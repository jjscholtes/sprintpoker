<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Sprint Poker</title>
  <meta name="description" content="Fast, simple, realtime sprint planning poker for agile teams." />
  <link rel="stylesheet" href="/styles.css" />
  <link rel="icon" href="/favicon.svg" type="image/svg+xml" />
</head>

<body>
  <!-- Circular Timer (top-left) -->
  <div id="timer-circle" class="timer-circle">
    <svg viewBox="0 0 36 36">
      <circle class="timer-bg" cx="18" cy="18" r="16" />
      <circle id="timer-progress" class="timer-progress" cx="18" cy="18" r="16" stroke-dasharray="100.53"
        stroke-dashoffset="0" />
    </svg>
    <div id="timer-text" class="timer-text">02:00</div>
  </div>

  <main class="shell">
    <div id="global-error" class="notice error hidden"></div>

    <!-- Landing -->
    <section id="landing" class="panel landing-panel">
      <div class="landing-grid">
        <div class="landing-hero">
          <h1>Estimate together</h1>
          <p class="lead">
            Create a session, share the link, and start estimating right away.
            Anyone can reveal cards and start a new round.
          </p>
          <div class="cta-row">
            <button id="create-session" class="primary cta-large">Start new session</button>
            <span class="cta-note">No accounts. No installs.</span>
          </div>
          <p class="hint">Already have a link? Paste it in your browser.</p>
        </div>
      </div>
    </section>

    <!-- Session -->
    <section id="session" class="panel hidden">
      <div class="session-header">
        <div class="session-title">
          <div class="eyebrow">Session</div>
          <div class="session-meta">
            <span class="meta">ID: <span id="session-id">-</span></span>
          </div>
        </div>
        <button id="copy-link" class="ghost copy-link-btn">ðŸ“‹ Copy link</button>
      </div>

      <div id="expired" class="notice hidden">
        <div>
          <strong>Session expired.</strong>
          This session has been inactive for more than 3 hours.
        </div>
        <button id="expired-create" class="primary">New session</button>
      </div>

      <!-- Join -->
      <div id="join" class="join-card panel-card">
        <h3>Join</h3>
        <p class="muted">Pick an emoji and enter your name</p>
        <form id="join-form">
          <div class="join-row">
            <button type="button" id="emoji-picker-btn" class="emoji-picker-btn" title="Pick an emoji">ðŸš€</button>
            <input id="name-input" type="text" autocomplete="name" placeholder="Your name" required />
            <button type="submit" class="primary">Join</button>
          </div>
        </form>
        <div id="emoji-picker" class="emoji-picker hidden">
          <div class="emoji-grid"></div>
        </div>
      </div>

      <!-- Table -->
      <div id="table" class="table hidden">
        <div class="table-stage">
          <!-- Floating toolbar -->
          <div class="toolbar-actions">
            <div class="timer">
              <select id="timer-duration" class="timer-select">
                <option value="60">1 min</option>
                <option value="120" selected>2 min</option>
                <option value="180">3 min</option>
                <option value="300">5 min</option>
              </select>
              <button id="timer-toggle" class="ghost">Start</button>
              <span id="timer-display" class="timer-display">02:00</span>
            </div>
            <div class="actions">
              <button id="reveal-btn" class="primary">Reveal cards</button>
              <button id="reset-btn" class="ghost">New round</button>
            </div>
            <div class="scoreline">
              <span class="label">Avg:</span>
              <strong id="average">-</strong>
            </div>
          </div>

          <!-- Table surface -->
          <div class="table-surface">
            <div class="table-center">
              <!-- The center reveal button is handled by the bottom toolbar now -->
            </div>
            <ul id="participants" class="participant-ring"></ul>
          </div>

          <!-- Status pill (hidden in new design, but kept for JS) -->
          <span id="status" class="status-pill" style="display: none;">-</span>
        </div>

        <div class="card-section panel-card">
          <div class="section-title">Pick a value</div>
          <div id="card-grid" class="card-grid"></div>
        </div>
      </div>
    </section>
  </main>

  <script type="module" src="/app.js"></script>
</body>

</html>
